# 差分隐私

![image-20240410135112204](C:\Users\panda\AppData\Roaming\Typora\typora-user-images\image-20240410135112204.png)

改图意为数据经过噪声处理

## 噪声分布

![](C:/Users/panda/AppData/Roaming/Typora/typora-user-images/image-20240410172910602.png)

1. 上面为**拉普拉斯分布**，通过调整拉普拉斯分布的参数，可以控制噪声的规模和分散程度，从而在保护隐私和保持数据可用性之间取得平衡。

  ![image-20240410173201869](C:/Users/panda/AppData/Roaming/Typora/typora-user-images/image-20240410173201869.png)

2. 上面为**高斯分布**（正态分布），高斯噪声常用于保护更复杂的数据类型和分析任务。高斯分布的灵活性使得它能够适应不同的隐私保护需求和数据特性。

3. **指数分布的噪声**：这种噪声类型在差分隐私中，特别是在处理离散数据时，发挥着重要的作用。当需要处理离散数据时，指数机制常被采用，它引入一个打分函数，对每一种可能的输出得到一个分数，归一化之后作为查询返回的概率值。![image-20240410223148808](C:/Users/panda/AppData/Roaming/Typora/typora-user-images/image-20240410223148808.png)

4. **总结：**噪声的分布是差分隐私中至关重要的一个环节。通过选择合适的噪声分布类型并调整其参数，可以在保护个人隐私的同时最大限度地保留数据的价值。

## 差分隐私的定义

1. 就是通过噪声对数据进行处理，使得数据的分析结果仍然具有一定的准确性和可用性，同时最大限度地减少识别其记录的机会，从而有效保护用户的隐私权。





![image-20240410135805668](C:\Users\panda\AppData\Roaming\Typora\typora-user-images\image-20240410135805668.png)

2. ɛ表示隐私的强度，越小越强，复杂一点的可以允许ɛ稍微大些

3. 算法的稳定，大多数据影响结果
4. 差分隐私是一种重要的隐私保护技术，它通过向数据中添加噪声来平衡数据分析和个人隐私保护的需求，为用户提供更加安全、可靠的数据服务

## 噪声

1. **大小** ：噪声的大小通常与数据的敏感性以及隐私预算有关
2. 噪声的添加是为了在数据分析结果中引入不确定性，使得攻击者难以通过结果推断出具体的个体信息。通过向数据中注入适量的噪声，差分隐私能够确保即使数据集中某一条记录发生变化，也不会对查询结果产生显著的影响，从而保护了用户的隐私。
3. 加性噪声是将一个随机分布的噪声值直接添加到原始数据中，而乘性噪声则是将原始数据与一个随机噪声值相乘。

## 敏感度

1. 敏感度衡量的是数据集中删除任意一条记录对查询结果产生的最大影响。对于查询函数f：D->R，以及任意相邻数据集D和D’，敏感度Δf定义为Δf=maxD，D’||f(D)-f(D’)||。这里的相邻数据集指的是只有一个记录不同的两个数据集。
2. 如果敏感度较高，则需要添加更大的噪声量，以掩盖由删除记录引起的查询结果变化。相反，如果敏感度较低，可以添加较小的噪声量，以在保护隐私的同时尽可能保持数据的可用性。
3. **全局敏感度**是在修改一个元祖时查询结果的最大变化，它描述的是对于整个数据集的敏感程度。而**局部敏感度**则更具体地利用数据集的分布特征，针对特定查询和数据集，提供了更细致的敏感度度量。

## 差分隐私替换

1. **替换**：替换是指通过添加噪声或扰动，使得数据的统计特性得以保留，而个体的隐私信息则被有效地隐藏
2. 差分隐私替换可以在数据的**收集、存储、处理和使用**等各个环节进行
	* 在数据收集阶段，可以通过添加噪声来扰动原始数据，使得个体的信息无法被直接识别。
	* 在数据处理阶段，可以采用差分隐私算法来替换或修改某些数据项，以保护个人隐私
	* 在数据使用阶段，通过对查询结果进行差分隐私处理，可以使得攻击者无法通过查询结果推断出具体的个体信息。

## 差分隐私机制

1.  **扰动：** 随机噪声来模糊原始数据，使得攻击者无法准确推断特定的个人信息。
2. **过滤** ：对查询或分析结果进行限制，以达到控制隐私泄露的目的。通过对查询结果进行差分隐私处理，可以使得攻击者无法通过查询结果推断出具体的个体信息。

## 差分隐私composition性质

1. **顺序组合（Sequential Composition）**：如果有两个满足差分隐私的函数F1和F2，那么当它们依次应用于同一数据集时，整体的隐私损失是这两个函数隐私损失的和。这意味着，随着差分私有机制的数量增加，总的隐私损失也会累积。
2. **平行组合（Parallel Composition）**：即使发布了多个差分私有结果，只要这些数据子集之间没有交集，那么总的隐私损失并不会因为结果的增加而累积。这是因为每个结果都是基于独立的数据子集得出的，它们之间没有直接的隐私损失叠加效应。

## 本地差分隐私

1. 它在本地对数据进行处理，通过向查询结果添加一些噪声来模糊个人数据，以保护个人隐私
2. 每个数据所有者在本地对自己的数据进行处理，然后将处理后的数据交给第三方计算。通过添加噪声，本地差分隐私保护查询结果的隐私。
3. 本地差分就是一开始就进行了隐私保护

## 一段代码示例 

```python
import numpy as np  
  
def laplace_mechanism(value, sensitivity, epsilon):  
    """  
    拉普拉斯机制：在值上添加拉普拉斯噪声以实现差分隐私。  
      
    参数:  
    value (float): 原始计数值。  
    sensitivity (float): 敏感度，即单个数据项的变化对查询结果的最大影响。  
    epsilon (float): 隐私预算。  
      
    返回:  
    float: 添加噪声后的值。  
    """  
    scale = sensitivity / epsilon  
    noise = np.random.laplace(0.0, scale)  
    return value + noise  
  
# 示例使用  
original_count = 100  # 假设这是某个统计的原始计数值  
sensitivity = 1  # 假设单个数据项的变化对计数的影响最大为1  
epsilon = 0.1  # 隐私预算  
  
dp_count = laplace_mechanism(original_count, sensitivity, epsilon)  
print("原始计数值:", original_count)  
print("差分隐私计数值:", dp_count)
```



